<header
  x-data="navbar"
  class="print:hidden sticky top-0 z-50 bg-green-800 flex flex-none flex-wrap items-center justify-between px-4 py-5 shadow-md shadow-slate-900/5 transition duration-500 sm:px-6 lg:px-8 dark:shadow-none"
  :class="$store.nav.scroll.atTop ? '': 'bg-green-800/90'">
  <div class="relative flex basis-0 items-center mr-2 lg:mr-8">
          {{ with site.Home }}
        <a
          class="flex items-center gap-3 text-white text-xl font-bold upper align-{{ or site.Params.brand.logo_align "center" }}"
          href="{{ .RelPermalink }}"
          aria-label="{{ .LinkTitle }}">
          {{ with site.Params.brand.logo }}<img src="{{ . | relURL }}" alt="Logo" style="height:{{ or site.Params.brand.logo_height 48 }}px;width:auto;" />{{ end }}
          <span>{{ site.Title }}</span>
        </a>
      {{ end }}
  </div>
  <div
    class=" relative flex flex-grow basis-0 items-center min-w-24 max-w-3xl overflow-x-auto">
    {{ range .Site.Menus.global }}
      <a
        href="{{ .URL }}"
        class="font-semibold text-gray-300 hover:text-gray-400 ml-4"
        >{{ .Name }}</a
      >
    {{ end }}


    <div class="hidden 2xl:block ml-8 text-xs text-gray-400 dark:text-gray-400">
      {{ with  hugo.Version }}

        Built with Hugo
        {{ if strings.Contains . "-DEV" }}
          v{{ . }}
        {{ else }}
          <a
            class="text-blue-600 hover:text-blue-500 ml-1"
            href="{{ printf `https://github.com/gohugoio/hugo/releases/tag/v%s` . }}"
            >v{{ . }}</a
          >
        {{ end }}
      {{ end }}

    </div>
  </div>

  <div class="-my-5 pl-2 grow-0 flex items-center gap-3">
    {{/* Search. */}}
    {{ partial "layouts/search/input.html" . }}
    <a href="/cart/" class="relative inline-flex items-center text-white font-semibold">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-6 w-6 fill-white"><path d="M7 4h-2l-1 2h2l3.6 7.59-1.35 2.45A1 1 0 0 0 9.8 18h8.7v-2h-7.42l.93-1.68h5.49a1 1 0 0 0 .9-.55l3.58-6.49A1 1 0 0 0 21.7 5H7.21L6.27 3.59A1 1 0 0 0 5.42 3H2v2h2.4l3.2 6.4L5.5 15.5c-.66 1.16.17 2.5 1.5 2.5H20v-2H9.42l.9-1.6H19a1 1 0 0 0 .9-.55L23 6H7Z"/></svg>
      <span x-data x-init="$watch('$store.cart.items',()=>{})" class="ml-1 text-sm" x-text="$store.cart ? $store.cart.count() : 0">0</span>
    </a>
  </div>
  <div
    class="relative ml-0 md:ml-8 flex content-center basis-0 justify-end gap-0 sm:gap-1 xl:grow-1">
    {{/* QR code. */}}
    {{ partial "layouts/header/qr.html" . }}
    {{/* Theme selector. */}}
    {{ partial "layouts/header/theme.html" . }}

    {{/* Social. */}}
    <div
      class="hidden sm:block ml-2 sm:ml-6 h-6 fill-slate-400 group-hover:fill-slate-500 dark:group-hover:fill-slate-300">
      {{ partial "layouts/header/githubstars.html" . }}
    </div>
    <div
      class="hidden sm:block ml-2 sm:ml-6 h-6">
      {{ partial "layouts/header/mastodon.html" . }}
    </div>
  </div>
</header>
